var log4js = require('log4js');
var levelSet = ['TRACE', 'DEBUG', 'INFO', 'WARN', 'ERROR', 'FATAL'];
var level = 'TRACE'; //default setting is TRACE

log4js.configure({
  appenders: [
    { type: 'console' },
  ],
  replaceConsole: true
});

exports.setLevel = function(levelStr) {
  if (levelSet.indexOf(levelStr) > -1) {
    level = levelStr;
  }
  return level;
}

exports.logger = function(name){
  var logger = log4js.getLogger(name);
  logger.setLevel(level);
  // var err = new Error('in logger the level is ' + level);
  // console.trace(err);
  return logger;
}

